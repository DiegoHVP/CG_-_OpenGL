:numbered:
:author: Diêgo Henrique
:icons:
:experimental:
:stem:
:imagesdir: ./imagens
:toc: left
:doctype: book
:source-highlighter: pygments
:caution-caption: Cuidado
:important-caption: Importante
:note-caption: Nota
:tip-caption: Dica
:warning-caption: Aviso
:appendix-caption: Apêndice
:example-caption: Exemplo
:figure-caption: Figura
:listing-caption: Listagem
:table-caption: Tabela
:toc-title: Sumário
:preface-title: Prefácio
:version-label: Versão
:last-update-label: Última atualização

= Respostas das Atividades OpenGL =

== Atividades e Respostas ==

=== Atividade: iluminacao2.c

Utilizando o programa `iluminacao.c` como referência, implementou-se `iluminacao2.c` com as seguintes modificações:

- Quando o mouse é movido **sem nenhuma tecla**, a transparência do objeto B muda conforme o deslocamento horizontal.
- Quando o mouse é movido **com a tecla SHIFT pressionada**, a intensidade da iluminação ambiente da luz 0 é alterada.

==== Resposta

Referência: arquivo `iluminacao2.c`

- Adicionadas variáveis globais `last_x`, `last_y` e `shift_pressed` para rastrear o movimento e o estado da tecla SHIFT. (`tag::variaveis_mouse[]`)
- Criadas funções `motion()`, `keyboardDown()`, `keyboardUp()` para lidar com entrada de mouse e teclado. (`tag::teclado_mouse[]`)
- A transparência do objeto B (última esfera) é controlada por `mat_b_difusa[3]`.
- A iluminação ambiente é controlada por `cor_luz0_amb[]`, que é atualizada dinamicamente.
- As funções de callback foram registradas com o GLUT no `main()` (`tag::main_hook[]`).

[[listagem_iluminacao2, iluminacao2.c]]
[source,c]
.iluminacao2.c
----
include::iluminacao2.c[tags=variaveis_mouse;teclado_mouse;main_hook]
----

[.center]
image::ilum1.png[Esfera A e B com transparência inicial]

[.center]
image::ilum2.png[Transparência e iluminação alteradas com o mouse]

---

== Bibliografia ==

[bibliography]
- Agostinho Brito Jr. 'Conceitos iniciais' http://agostinhobritojr.github.io/tutorial/opengl/conceitos.html
- Stephen Prata. 'C++ Primer Plus'. Addison-Wesley. 1990.
- http://www.cplusplus.com. 'Referência C++'
